# Production Environment Template for Blyan
# Copy this to .env and fill in your values

# Redis Configuration (REQUIRED for GPU node management)
################################

# Redis connection URL
# For local Redis: redis://localhost:6379/0
# For Redis with auth: redis://username:password@host:port/db
# For Redis with SSL: rediss://username:password@host:port/db
REDIS_URL=redis://localhost:6379/0

# Redis Authentication (for Redis 6+ with ACLs)
REDIS_USERNAME=api-server
REDIS_PASSWORD=your-strong-password-here

# Enable Redis SSL/TLS
REDIS_SSL=false

# SSL Certificate paths (if REDIS_SSL=true)
REDIS_SSL_CERTFILE=/etc/redis/certs/client.crt
REDIS_SSL_KEYFILE=/etc/redis/certs/client.key
REDIS_SSL_CA_CERTS=/etc/redis/certs/ca.crt

# GPU Node Configuration
################################

# Selection policy for GPU nodes
# Options: min_load, best_score, round_robin, random
GPU_NODE_SELECTION_POLICY=best_score

# API Authentication
################################

# Main node API key (for GPU nodes to authenticate)
BLYAN_API_KEY=your-api-key-here

# Security Settings
################################

# Enable security monitoring
ENABLE_SECURITY_MONITORING=true

# Enable proof of learning validation
ENABLE_POL=true
POL_THRESHOLD=0.01

# Blockchain Configuration
################################

# Data directory for blockchain storage
DATA_DIR=./data

# Network Configuration
################################

# API server port
PORT=8000

# Public host for GPU nodes (set this on GPU nodes)
# PUBLIC_HOST=your-domain.com
# PUBLIC_PORT=8000

# Logging
################################

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Performance
################################

# Minimal mode (disable heavy features for testing)
MINIMAL_MODE=false

# Enable BF16 precision (requires Ampere+ GPU)
ENABLE_BF16=true

# Database (optional)
################################

# PostgreSQL for persistent data
# DATABASE_URL=postgresql://user:pass@localhost/blyan

# Monitoring (optional)
################################

# Prometheus metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# Sentry error tracking
# SENTRY_DSN=https://your-key@sentry.io/project