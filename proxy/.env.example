# Blyan API Proxy Configuration

# Server Configuration
PROXY_PORT=9000
LOG_LEVEL=info

# Health Check Configuration
HEALTH_INTERVAL_MS=5000
HEALTH_TIMEOUT_MS=3000
HEALTH_PATHS=/health,/pol/status

# Node Selection Policy
# Options: active-first, round-robin, least-latency
SELECTION_POLICY=active-first

# State Persistence
STATE_FILE=./data/proxy_state.json

# Admin Authentication
# Generate with: openssl rand -hex 32
ADMIN_TOKEN=

# Retry Configuration
MAX_RETRIES=3
RETRY_DELAY_MS=1000

# Timeout Configuration
PROXY_TIMEOUT=600000  # 10 minutes for long streams
WS_HEARTBEAT_MS=30000  # WebSocket keepalive ping

# Metrics
ENABLE_METRICS=true

# Initial Nodes (optional)
# Format: NODE_<index>=name|url
# NODE_0=main-gpu|https://gpu1.example.com:8000
# NODE_1=backup-gpu|https://gpu2.example.com:8000